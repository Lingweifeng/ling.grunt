/*! ling.grunt - v1.0.0 - 2017-02-08 */var List={$shopping:$("#shopping"),$shoppingCar:$("#shoppingCar"),calculation:function(a,b){var c=this,d=c.$shoppingCar.find(".shoppingcar sub"),e=c.$shoppingCar.find(".car-main>span>b"),f=parseInt(d.text())+a,g=parseInt(e.text())+b;d.text(f),e.text(g)},stab:function(){var a=$(".stab-main"),b=$(".stab-item"),c=$(".stab-list"),d=a.offset().top,e=[];b.each(function(a,b){e.push($(b).offset().top-d)}),$(document).on("click",".stab-list>li>a",function(c){var e=$(this).parent("li"),f=e.index(),g=a.scrollTop();return e.addClass("active").siblings().removeClass("active"),a.scrollTop(b.eq(f).offset().top+g-d),!1}),a.on("scroll",function(a){var b=$(this);return $.each(e,function(a,d){return b.scrollTop()>=d?void c.find("li").eq(a+1).addClass("active").siblings().removeClass("active"):void 0}),0==$(this).scrollTop()&&c.find("li").eq(0).addClass("active").siblings().removeClass("active"),!1})},init:function(){function a(){var a=parseInt(b.$shoppingCar.find(".shoppingcar>sub").text());parseInt(b.$shoppingCar.find(".car-main>span>b").text());a>0?c.addClass("active"):c.removeClass("active")}var b=this;b.stab();var c=b.$shoppingCar.find(".car-tool");a(),b.$shopping.on("click",".add-round-fill",function(c){var d=$(this).parent("em"),e=$(this).siblings("b"),f=parseInt(e.text()),g=parseInt($(this).closest("div").find(".money-thin").text());return 99===f?void alert("最多可添加99件"):(e.text(++f),b.calculation(1,g),d.hasClass("active")||d.addClass("active"),a(),void c.preventDefault())}),b.$shopping.on("click",".minus",function(c){var d=$(this).parent("em"),e=$(this).siblings("b"),f=parseInt(e.text()),g=parseInt($(this).closest("div").find(".money-thin").text());return 0===f?void alert("请先添加"):(e.text(--f),b.calculation(-1,-g),0===f&&(d.removeClass("active"),a()),void c.preventDefault())})}};$(function(){List.init()});